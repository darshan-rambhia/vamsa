import{s as u,z as d,i as x}from"./zoom-BhWAVBVM.js";function m(a,t,e=[.1,4],r){const l=d().scaleExtent(e).on("zoom",s=>{t.attr("transform",s.transform.toString()),r==null||r(s)});return a.call(l),l}function p(a,t,e,r,l,s,f=1,i=750){var n;const o=(n=t.node())==null?void 0:n.getBBox();if(!o)return;const c=Math.min(r/(o.width+s.left+s.right),l/(o.height+s.top+s.bottom),f),y=x.translate(r/2,l/2).scale(c).translate(-(o.x+o.width/2),-(o.y+o.height/2));a.transition().duration(i).call(e.transform,y)}function v(a,t,e,r,l,s,f=1,i=750){var n;const o=(n=t.node())==null?void 0:n.getBBox();if(!o)return;const c=Math.min(r/(o.width+s.left+s.right),l/(o.height+s.top+s.bottom),f),y=x.translate(r/2,s.top).scale(c).translate(-(o.x+o.width/2),-o.y);a.transition().duration(i).call(e.transform,y)}function g(a){const t=new Map;return a.forEach(e=>{const r=e.generation??0;t.has(r)||t.set(r,[]),t.get(r).push(e)}),t}function w(a,t,e,r){const{width:l,height:s,borderRadius:f=8,isRoot:i=!1}=r;a.append("rect").attr("width",l).attr("height",s).attr("rx",f).style("fill",i?"color-mix(in oklch, var(--color-primary) 10%, transparent)":t.isLiving?"var(--color-card)":"var(--color-muted)").style("stroke",i||t.isLiving?"var(--color-primary)":"var(--color-border)").style("stroke-width",i?"3px":"2px").on("mouseenter",function(){var n;u(this).transition().duration(200).style("fill","var(--color-accent)"),(n=r.onMouseEnter)==null||n.call(r,t)}).on("mouseleave",function(){var n;u(this).transition().duration(200).style("fill",i?"color-mix(in oklch, var(--color-primary) 10%, transparent)":t.isLiving?"var(--color-card)":"var(--color-muted)"),(n=r.onMouseLeave)==null||n.call(r,t)}),a.append("text").attr("x",l/2).attr("y",s/2-8).attr("text-anchor","middle").style("fill","var(--color-foreground)").style("font-size","14px").style("font-weight",i?"700":"600").text(`${t.firstName} ${t.lastName}`);const c=[];t.dateOfBirth&&c.push(new Date(t.dateOfBirth).getFullYear()),t.dateOfPassing&&c.push(new Date(t.dateOfPassing).getFullYear()),c.length>0&&a.append("text").attr("x",l/2).attr("y",s/2+12).attr("text-anchor","middle").style("fill","var(--color-muted-foreground)").style("font-size","12px").text(c.join(" - ")),a.append("g").attr("transform",`translate(${l-35}, 10)`).append("circle").attr("cx",4).attr("cy",4).attr("r",4).style("fill",t.isLiving?"var(--color-primary)":"var(--color-muted-foreground)")}function b(a,t,e){const{radius:r,isRoot:l=!1}=e;a.append("circle").attr("r",r).style("fill",l?"color-mix(in oklch, var(--color-primary) 20%, transparent)":t.isLiving?"var(--color-card)":"var(--color-muted)").style("stroke",l||t.isLiving?"var(--color-primary)":"var(--color-border)").style("stroke-width",l?"3px":"2px").on("mouseenter",function(){var o;u(this).transition().duration(200).attr("r",r+5).style("fill","var(--color-accent)"),(o=e.onMouseEnter)==null||o.call(e,t)}).on("mouseleave",function(){var o;u(this).transition().duration(200).attr("r",r).style("fill",l?"color-mix(in oklch, var(--color-primary) 20%, transparent)":t.isLiving?"var(--color-card)":"var(--color-muted)"),(o=e.onMouseLeave)==null||o.call(e,t)});const f=t.firstName.length>12?t.firstName.substring(0,10)+"...":t.firstName,i=t.lastName.length>12?t.lastName.substring(0,10)+"...":t.lastName;if(a.append("text").attr("x",0).attr("y",-4).attr("text-anchor","middle").style("fill","var(--color-foreground)").style("font-size","11px").style("font-weight",l?"700":"600").text(f),a.append("text").attr("x",0).attr("y",8).attr("text-anchor","middle").style("fill","var(--color-foreground)").style("font-size","11px").style("font-weight",l?"700":"600").text(i),t.dateOfBirth){const o=new Date(t.dateOfBirth).getFullYear();a.append("text").attr("x",0).attr("y",r+15).attr("text-anchor","middle").style("fill","var(--color-muted-foreground)").style("font-size","10px").text(o.toString())}a.append("circle").attr("cx",r-10).attr("cy",-r+10).attr("r",4).style("fill",t.isLiving?"var(--color-primary)":"var(--color-muted-foreground)")}function k(a,t,e,r,l){a.append("line").attr("x1",t.x).attr("y1",t.y+r/2).attr("x2",e.x).attr("y2",e.y-r/2).style("stroke","var(--color-border)").style("stroke-width","2px").style("fill","none")}function N(a,t,e,r,l){a.append("line").attr("x1",t.x+r/2).attr("y1",t.y).attr("x2",e.x-r/2).attr("y2",e.y).style("stroke","var(--color-primary)").style("stroke-width","2px").style("stroke-dasharray","5,5")}function B(a,t,e){if(!a.current)return null;u(a.current).selectAll("*").remove();const r=u(a.current).attr("width",t).attr("height",e).attr("viewBox",[0,0,t,e]),l=r.append("g");return{svg:r,g:l}}export{N as a,w as b,m as c,b as d,p as e,v as f,g,k as r,B as s};
