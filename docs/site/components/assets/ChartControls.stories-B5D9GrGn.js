import{r as t,j as e}from"./index-B-j1UC9_.js";import{C as I,b as B,L as G,S as w,f as S,g as E,h as D,i as s,B as k}from"./nav-CtgBGWHp.js";import{G as C}from"./GenerationSlider-CxIN2agu.js";import{T as j}from"./decorators-CfDSmGYB.js";import"./createLucideIcon-BBWb6tWq.js";function v({chartType:n,generations:l,ancestorGenerations:a=2,descendantGenerations:r=2,maxPeople:i=20,sortBy:c="birth",hideChartTypeSelector:d=!1,onChartTypeChange:x,onGenerationsChange:g,onAncestorGenerationsChange:h,onDescendantGenerationsChange:m,onMaxPeopleChange:p,onSortByChange:f,onExportPDF:P,onExportPNG:A,onExportSVG:V,onPrint:N,onResetView:T,activeContextLabel:b}){const[O,y]=t.useState(!1),R=()=>{N?N():window.print()},F=()=>y(o=>!o),M=()=>y(!1),u=o=>{o&&o(),M()};return e.jsx(I,{className:"chart-controls",children:e.jsx(B,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-end sm:justify-between",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-end",children:[!d&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"chart-type",children:"Chart Type"}),e.jsxs(w,{value:n,onValueChange:x,children:[e.jsx(S,{id:"chart-type",className:"w-[180px]",children:e.jsx(E,{placeholder:"Select chart type"})}),e.jsxs(D,{children:[e.jsx(s,{value:"tree",children:"Interactive Tree"}),e.jsx(s,{value:"ancestor",children:"Ancestor Chart"}),e.jsx(s,{value:"descendant",children:"Descendant Chart"}),e.jsx(s,{value:"hourglass",children:"Hourglass Chart"}),e.jsx(s,{value:"fan",children:"Fan Chart"}),e.jsx(s,{value:"timeline",children:"Timeline Chart"}),e.jsx(s,{value:"matrix",children:"Relationship Matrix"}),e.jsx(s,{value:"bowtie",children:"Bowtie Chart"}),e.jsx(s,{value:"compact",children:"Compact Tree"}),e.jsx(s,{value:"statistics",children:"Statistics"})]})]})]}),["tree","hourglass","ancestor","fan","bowtie"].includes(n)&&e.jsx(C,{label:"Ancestor Generations",value:a,min:1,max:10,onChange:o=>h==null?void 0:h(o),showNumberInput:!0,id:"ancestor-generations"}),["tree","hourglass","descendant","compact"].includes(n)&&e.jsx(C,{label:"Descendant Generations",value:r,min:1,max:10,onChange:o=>m==null?void 0:m(o),showNumberInput:!0,id:"descendant-generations"}),n==="timeline"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"sort-by",children:"Sort By"}),e.jsxs(w,{value:c,onValueChange:o=>f==null?void 0:f(o),children:[e.jsx(S,{id:"sort-by",className:"w-[160px]",children:e.jsx(E,{placeholder:"Sort by"})}),e.jsxs(D,{children:[e.jsx(s,{value:"birth",children:"Birth Year"}),e.jsx(s,{value:"death",children:"Death Year"}),e.jsx(s,{value:"name",children:"Name"})]})]})]}),n==="matrix"&&e.jsx(C,{label:"Max People",value:i,min:5,max:50,onChange:o=>p==null?void 0:p(o),showNumberInput:!0,id:"max-people"}),n==="statistics"&&e.jsx("div",{className:"flex items-center",children:e.jsx("span",{className:"text-muted-foreground text-sm",children:"Statistical analysis of all family members"})})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[b&&e.jsx("span",{className:"bg-muted text-muted-foreground inline-flex items-center rounded-full px-3 py-1 text-xs font-medium",children:b}),e.jsxs(k,{variant:"outline",size:"sm",onClick:T,title:"Reset zoom and recenter",children:[e.jsx("svg",{className:"h-4 w-4 sm:mr-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 9.75A7.5 7.5 0 0112 2.25c4.142 0 7.5 3.358 7.5 7.5m0 0H18m1.5 0V6.75M19.5 14.25A7.5 7.5 0 0112 21.75 7.5 7.5 0 014.5 14.25m0 0H6m-1.5 0v3"})}),e.jsx("span",{className:"hidden sm:inline",children:"Reset view"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs(k,{variant:"outline",size:"sm",onClick:F,title:"Export or share chart",children:[e.jsx("svg",{className:"h-4 w-4 sm:mr-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),e.jsx("span",{className:"hidden sm:inline",children:"Export / Share"})]}),O&&e.jsx("div",{className:"bg-popover border-border absolute right-0 z-20 mt-2 w-44 rounded-md border shadow-lg",children:e.jsxs("div",{className:"flex flex-col py-2 text-sm",children:[e.jsx("button",{className:"hover:bg-muted px-3 py-2 text-left",onClick:()=>u(P),children:"Export PDF"}),e.jsx("button",{className:"hover:bg-muted px-3 py-2 text-left",onClick:()=>u(A),children:"Export PNG (2x)"}),e.jsx("button",{className:"hover:bg-muted px-3 py-2 text-left",onClick:()=>u(V),children:"Export SVG"}),e.jsx("button",{className:"hover:bg-muted px-3 py-2 text-left",onClick:()=>u(R),children:"Print"})]})})]})]})]})})})}const K={title:"Charts/UI/ChartControls"},L=()=>{const[n,l]=t.useState("tree"),[a,r]=t.useState(3),[i,c]=t.useState(3),[d,x]=t.useState(3);return e.jsx(j,{children:e.jsxs("div",{className:"max-w-6xl space-y-4",children:[e.jsx("h2",{className:"font-display text-2xl font-semibold",children:"Chart Controls - Default"}),e.jsx(v,{chartType:n,generations:a,ancestorGenerations:i,descendantGenerations:d,onChartTypeChange:l,onGenerationsChange:r,onAncestorGenerationsChange:c,onDescendantGenerationsChange:x,onExportPDF:()=>console.log("Export PDF"),onExportPNG:()=>console.log("Export PNG"),onExportSVG:()=>console.log("Export SVG"),onPrint:()=>console.log("Print"),onResetView:()=>console.log("Reset view")})]})})};L.storyName="Default - All Controls Visible";const z=()=>{const[n,l]=t.useState("hourglass"),[a,r]=t.useState(5),[i,c]=t.useState(5),[d,x]=t.useState(5),[g,h]=t.useState(30),[m,p]=t.useState("birth");return e.jsx(j,{children:e.jsxs("div",{className:"max-w-6xl space-y-4",children:[e.jsx("h2",{className:"font-display text-2xl font-semibold",children:"Chart Controls - All Options"}),e.jsx(v,{chartType:n,generations:a,ancestorGenerations:i,descendantGenerations:d,maxPeople:g,sortBy:m,onChartTypeChange:l,onGenerationsChange:r,onAncestorGenerationsChange:c,onDescendantGenerationsChange:x,onMaxPeopleChange:h,onSortByChange:p,onExportPDF:()=>console.log("Export PDF"),onExportPNG:()=>console.log("Export PNG"),onExportSVG:()=>console.log("Export SVG"),onPrint:()=>console.log("Print"),onResetView:()=>console.log("Reset view"),activeContextLabel:"John Doe"})]})})};z.storyName="All Options - Every Option Enabled";const H=()=>{const[n,l]=t.useState(3),[a,r]=t.useState(3);return e.jsx(j,{children:e.jsxs("div",{className:"max-w-6xl space-y-4",children:[e.jsx("h2",{className:"font-display text-2xl font-semibold",children:"Chart Controls - Minimal Options"}),e.jsx(v,{chartType:"ancestor",generations:n,ancestorGenerations:a,hideChartTypeSelector:!0,onGenerationsChange:l,onAncestorGenerationsChange:r,onResetView:()=>console.log("Reset view")})]})})};H.storyName="Minimal Options - Only Essential Controls";const W=()=>e.jsx(j,{children:e.jsxs("div",{className:"max-w-6xl space-y-4",children:[e.jsx("h2",{className:"font-display text-2xl font-semibold",children:"Chart Controls - Disabled State"}),e.jsx("div",{className:"pointer-events-none opacity-50",children:e.jsx(v,{chartType:"tree",generations:3,ancestorGenerations:3,descendantGenerations:3,onGenerationsChange:()=>{},onAncestorGenerationsChange:()=>{},onDescendantGenerationsChange:()=>{}})})]})});W.storyName="Disabled - All Controls Disabled";typeof window<"u"&&window.document&&window.document.createElement&&document.documentElement.setAttribute("data-storyloaded","");export{z as AllOptions,L as Default,W as Disabled,H as MinimalOptions,K as default};
