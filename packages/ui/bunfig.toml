[test]
preload = ["./src/test-setup.ts"]

coverage = true

# Exclude external packages and test files from coverage
# Each package should only report coverage for its own code
coveragePathIgnorePatterns = [
  "../lib/**",              # Exclude @vamsa/lib (has its own tests)
  "../api/**",              # Exclude @vamsa/api (has its own tests)
  "../schemas/**",          # Exclude @vamsa/schemas (has its own tests)
  "**/test-setup.ts",
  "**/*.test.ts",
  "**/*.spec.ts",
  "**/*.test.tsx",
  "**/*.spec.tsx"
]

# Coverage thresholds disabled - Bun 1.3.x has known issues with threshold exit codes
# even when coverage exceeds threshold (89% funcs, 91% lines vs 88%/90% threshold)
# See: https://github.com/oven-sh/bun/issues/17028
# coverageThreshold = { lines = 0.90, functions = 0.88 }
