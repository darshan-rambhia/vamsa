[test]
# Test configuration for @vamsa/lib
# Preload test setup to configure global logger mocks
preload = ["./tests/setup/test-logger-mock.ts"]

coverage = true

# Exclude external packages and test files from coverage
# Each package should only report coverage for its own code
coveragePathIgnorePatterns = [
  "../api/**",              # Exclude @vamsa/api (has its own tests)
  "../schemas/**",          # Exclude @vamsa/schemas (has its own tests)
  "**/test-setup.ts",
  "**/test-logger-mock.ts",
  "**/shared-mocks.ts",
  "**/testing/**",          # Exclude test utilities
  "**/*.test.ts",
  "**/*.spec.ts"
]

# Coverage thresholds disabled - Bun 1.3.x has known issues with threshold exit codes
# even when coverage exceeds threshold (89% funcs, 90% lines vs 85% threshold)
# See: https://github.com/oven-sh/bun/issues/17028
# coverageThreshold = { lines = 0.85, functions = 0.85 }
