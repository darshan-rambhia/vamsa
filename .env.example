# ============================================
# DATABASE
# ============================================
DATABASE_URL="postgresql://vamsa:password@localhost:5432/vamsa"

# Connection Pool Configuration (optional, sensible defaults provided)
# DB_POOL_MAX=10        # Maximum concurrent connections
# DB_POOL_MIN=2         # Minimum idle connections
# DB_POOL_IDLE_TIMEOUT=30000      # Close idle connections after ms
# DB_POOL_CONNECTION_TIMEOUT=10000 # Fail if can't connect in ms

# ============================================
# AUTHENTICATION (Better Auth)
# ============================================
# Generate secret with: openssl rand -base64 32
BETTER_AUTH_SECRET="your-32-character-secret-here-change-in-production"
BETTER_AUTH_URL="http://localhost:3000"

# Initial Admin (required for seeding)
ADMIN_EMAIL="admin@vamsa.local"
ADMIN_PASSWORD=""  # Leave empty to auto-generate a secure password

# ============================================
# OAUTH PROVIDERS (all optional)
# ============================================

# Google OAuth (https://console.cloud.google.com/apis/credentials)
GOOGLE_CLIENT_ID=""
GOOGLE_CLIENT_SECRET=""

# Microsoft OAuth (https://portal.azure.com/#blade/Microsoft_AAD_RegisteredApps)
MICROSOFT_CLIENT_ID=""
MICROSOFT_CLIENT_SECRET=""
MICROSOFT_TENANT_ID="common"

# GitHub OAuth (https://github.com/settings/developers)
GITHUB_CLIENT_ID=""
GITHUB_CLIENT_SECRET=""

# Self-hosted OIDC (Authentik, Keycloak, etc.)
OIDC_DISCOVERY_URL=""
OIDC_CLIENT_ID=""
OIDC_CLIENT_SECRET=""

# App URL for OAuth callbacks
APP_URL="http://localhost:3000"

# ============================================
# EMAIL (Resend)
# ============================================
RESEND_API_KEY=""
EMAIL_FROM="noreply@vamsa.family"

# ============================================
# STORAGE (S3-compatible cloud backup)
# ============================================
# Works with AWS S3, Cloudflare R2, Backblaze B2
S3_ENDPOINT=""           # Leave empty for AWS S3
S3_ACCESS_KEY_ID=""
S3_SECRET_ACCESS_KEY=""
S3_REGION="auto"         # Use "auto" for R2

# ============================================
# OBSERVABILITY
# ============================================
LOG_LEVEL="info"  # debug | info | warn | error

# OpenTelemetry (optional)
OTEL_ENABLED=false
OTEL_EXPORTER_OTLP_ENDPOINT="http://localhost:4318"
OTEL_SERVICE_NAME="vamsa-web"

# Grafana Stack URLs (for metrics dashboard links)
PROMETHEUS_URL="http://localhost:9090"
GRAFANA_URL="http://localhost:3001"
GRAFANA_PASSWORD="admin"

# ============================================
# DATABASE BACKUP
# ============================================
# Directory for storing database backups (local backups)
BACKUP_DIR="./backups"

# Docker Compose backup service configuration
# SCHEDULE: Cron expression for backup frequency (default: @daily = 00:00 UTC)
# @daily, @weekly, @monthly, @hourly, or cron format (0 0 * * *)
BACKUP_SCHEDULE="@daily"

# Retention periods (in days/weeks/months)
BACKUP_KEEP_DAYS=30        # Keep daily backups for 30 days
BACKUP_KEEP_WEEKS=4        # Keep weekly backups for 4 weeks
BACKUP_KEEP_MONTHS=6       # Keep monthly backups for 6 months

# ============================================
# DOCKER BUILD
# ============================================
# Skip SSL verification during Docker build (for corporate proxies like Zscaler)
# SKIP_SSL_VERIFY=true

# ============================================
# DOCKER DEPLOYMENT
# ============================================
# SECURITY: These values are REQUIRED for Docker deployment.
# The docker-compose.yml will fail to start without them.

# Database container
DB_USER=vamsa
# REQUIRED: Generate a strong password. Example: openssl rand -base64 24
DB_PASSWORD=
DB_NAME=vamsa
DB_PORT=5432

# App port (host port that maps to container's 3000)
APP_PORT=80
