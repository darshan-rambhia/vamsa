# ============================================
# DATABASE
# ============================================
DATABASE_URL="postgresql://vamsa:password@localhost:5432/vamsa"

# Connection Pool Configuration (optional, sensible defaults provided)
# DB_POOL_MAX=10        # Maximum concurrent connections
# DB_POOL_MIN=2         # Minimum idle connections
# DB_POOL_IDLE_TIMEOUT=30000      # Close idle connections after ms
# DB_POOL_CONNECTION_TIMEOUT=10000 # Fail if can't connect in ms

# ============================================
# AUTHENTICATION (Better Auth)
# ============================================
# Generate secret with: openssl rand -base64 32
BETTER_AUTH_SECRET="your-32-character-secret-here-change-in-production"
BETTER_AUTH_URL="http://localhost:3000"

# Initial Admin (required for first run)
ADMIN_EMAIL="admin@vamsa.local"
ADMIN_PASSWORD="admin123"  # Leave empty to auto-generate

# ============================================
# OAUTH PROVIDERS (all optional)
# ============================================

# Google OAuth (https://console.cloud.google.com/apis/credentials)
GOOGLE_CLIENT_ID=""
GOOGLE_CLIENT_SECRET=""

# Microsoft OAuth (https://portal.azure.com/#blade/Microsoft_AAD_RegisteredApps)
MICROSOFT_CLIENT_ID=""
MICROSOFT_CLIENT_SECRET=""
MICROSOFT_TENANT_ID="common"

# GitHub OAuth (https://github.com/settings/developers)
GITHUB_CLIENT_ID=""
GITHUB_CLIENT_SECRET=""

# Self-hosted OIDC (Authentik, Keycloak, etc.)
OIDC_DISCOVERY_URL=""
OIDC_CLIENT_ID=""
OIDC_CLIENT_SECRET=""

# App URL for OAuth callbacks
APP_URL="http://localhost:3000"

# ============================================
# EMAIL (Resend)
# ============================================
RESEND_API_KEY=""
EMAIL_FROM="noreply@vamsa.family"

# ============================================
# STORAGE
# ============================================
STORAGE_PROVIDER="local"  # local | s3
STORAGE_LOCAL_PATH="./data/uploads"

# S3/R2/B2 Configuration (when STORAGE_PROVIDER=s3)
# Works with AWS S3, Cloudflare R2, Backblaze B2
S3_ENDPOINT=""           # Leave empty for AWS S3
S3_BUCKET="vamsa-uploads"
S3_ACCESS_KEY_ID=""
S3_SECRET_ACCESS_KEY=""
S3_REGION="auto"         # Use "auto" for R2

# ============================================
# OBSERVABILITY
# ============================================
LOG_LEVEL="info"  # debug | info | warn | error

# OpenTelemetry (optional)
OTEL_ENABLED=false
OTEL_EXPORTER_OTLP_ENDPOINT="http://localhost:4318"
OTEL_SERVICE_NAME="vamsa-web"

# Grafana Stack URLs (for metrics dashboard links)
PROMETHEUS_URL="http://localhost:9090"
GRAFANA_URL="http://localhost:3001"
GRAFANA_PASSWORD="admin"

# ============================================
# ALERTING (optional)
# ============================================
# Slack webhook for alerts
SLACK_WEBHOOK_URL=""

# Email alerts via SMTP
SMTP_USERNAME=""
SMTP_PASSWORD=""
ALERT_EMAIL=""

# ============================================
# DOCKER DEPLOYMENT
# ============================================
# Database container
DB_USER=vamsa
DB_PASSWORD=change_this_in_production
DB_NAME=vamsa
DB_PORT=5432

# App settings
NODE_ENV=production
PORT=3000

# Nginx
NGINX_PORT=80
