[test]
# Test configuration for @vamsa/web
# Preload test setup to configure jsdom and DOM globals
preload = ["./tests/setup/test-logger-mock.ts", "./tests/setup/jsdom-setup.ts"]

coverage = true

# Exclude external packages and test files from coverage
# Each package should only report coverage for its own code
coveragePathIgnorePatterns = [
  "../../packages/**",      # Exclude lib, ui, api, schemas (they have their own tests)
  "**/test-setup.ts",
  "**/*.test.ts",
  "**/*.spec.ts",
  "**/*.test.tsx",
  "**/*.spec.tsx",
  "**/*.function.ts",       # TanStack React Start server function wrappers (not unit testable)
  "tests/integration/**",
  "e2e/**",
]

# Coverage thresholds disabled - Bun 1.3.x has known issues with threshold exit codes
# even when coverage exceeds threshold
# See: https://github.com/oven-sh/bun/issues/17028
# coverageThreshold = { lines = 0.55, functions = 0.50 }
